/*!
 * w-sync-webdata-client v1.0.20
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self)["w-sync-webdata-client"]=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r={},n={get exports(){return r},set exports(t){r=t}};var o=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var a=function(t){return function(e,r,n){for(var o=-1,a=Object(e),u=n(e),i=u.length;i--;){var c=u[t?i:++o];if(!1===r(a[c],c,a))break}return e}}();var u=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n},i="object"==typeof t&&t&&t.Object===Object&&t,c=i,f="object"==typeof self&&self&&self.Object===Object&&self,s=c||f||Function("return this")(),l=s.Symbol,v=l,p=Object.prototype,b=p.hasOwnProperty,y=p.toString,h=v?v.toStringTag:void 0;var d=function(t){var e=b.call(t,h),r=t[h];try{t[h]=void 0;var n=!0}catch(t){}var o=y.call(t);return n&&(e?t[h]=r:delete t[h]),o},g=Object.prototype.toString;var j=d,_=function(t){return g.call(t)},w=l?l.toStringTag:void 0;var O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":w&&w in Object(t)?j(t):_(t)};var m=function(t){return null!=t&&"object"==typeof t},T=O,A=m;var x=function(t){return A(t)&&"[object Arguments]"==T(t)},P=m,S=Object.prototype,I=S.hasOwnProperty,z=S.propertyIsEnumerable,E=x(function(){return arguments}())?x:function(t){return P(t)&&I.call(t,"callee")&&!z.call(t,"callee")},U=E,F=Array.isArray,N={};var M=function(){return!1};!function(t,e){var r=s,n=M,o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,u=a&&a.exports===o?r.Buffer:void 0,i=(u?u.isBuffer:void 0)||n;t.exports=i}({get exports(){return N},set exports(t){N=t}},N);var k=/^(?:0|[1-9]\d*)$/;var B=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&k.test(t))&&t>-1&&t%1==0&&t<e};var C=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},L=O,$=C,D=m,R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Arguments]"]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object Boolean]"]=R["[object DataView]"]=R["[object Date]"]=R["[object Error]"]=R["[object Function]"]=R["[object Map]"]=R["[object Number]"]=R["[object Object]"]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object WeakMap]"]=!1;var V=function(t){return D(t)&&$(t.length)&&!!R[L(t)]};var W=function(t){return function(e){return t(e)}},q={};!function(t,e){var r=i,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,a=o&&o.exports===n&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u}({get exports(){return q},set exports(t){q=t}},q);var G=V,H=W,J=q&&q.isTypedArray,K=J?H(J):G,Q=u,X=U,Y=F,Z=N,tt=B,et=K,rt=Object.prototype.hasOwnProperty;var nt=function(t,e){var r=Y(t),n=!r&&X(t),o=!r&&!n&&Z(t),a=!r&&!n&&!o&&et(t),u=r||n||o||a,i=u?Q(t.length,String):[],c=i.length;for(var f in t)!e&&!rt.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||a&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||tt(f,c))||i.push(f);return i},ot=Object.prototype;var at=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ot)};var ut=function(t,e){return function(r){return t(e(r))}},it=ut(Object.keys,Object),ct=at,ft=it,st=Object.prototype.hasOwnProperty;var lt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},vt=O,pt=lt;var bt=function(t){if(!pt(t))return!1;var e=vt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},yt=bt,ht=C;var dt=function(t){return null!=t&&ht(t.length)&&!yt(t)},gt=nt,jt=function(t){if(!ct(t))return ft(t);var e=[];for(var r in Object(t))st.call(t,r)&&"constructor"!=r&&e.push(r);return e},_t=dt;var wt=function(t){return _t(t)?gt(t):jt(t)},Ot=a,mt=wt;var Tt=dt;var At=function(t,e){return function(r,n){if(null==r)return r;if(!Tt(r))return t(r,n);for(var o=r.length,a=e?o:-1,u=Object(r);(e?a--:++a<o)&&!1!==n(u[a],a,u););return r}}((function(t,e){return t&&Ot(t,e,mt)}));var xt=function(t){return t};var Pt=o,St=At,It=function(t){return"function"==typeof t?t:xt},zt=F;var Et=function(t,e){return(zt(t)?Pt:St)(t,It(e))};!function(t){t.exports=Et}(n);var Ut=e(r);var Ft=function(){this.__data__=[],this.size=0};var Nt=function(t,e){return t===e||t!=t&&e!=e},Mt=Nt;var kt=function(t,e){for(var r=t.length;r--;)if(Mt(t[r][0],e))return r;return-1},Bt=kt,Ct=Array.prototype.splice;var Lt=kt;var $t=kt;var Dt=kt;var Rt=Ft,Vt=function(t){var e=this.__data__,r=Bt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Ct.call(e,r,1),--this.size,!0)},Wt=function(t){var e=this.__data__,r=Lt(e,t);return r<0?void 0:e[r][1]},qt=function(t){return $t(this.__data__,t)>-1},Gt=function(t,e){var r=this.__data__,n=Dt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function Ht(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ht.prototype.clear=Rt,Ht.prototype.delete=Vt,Ht.prototype.get=Wt,Ht.prototype.has=qt,Ht.prototype.set=Gt;var Jt=Ht,Kt=Jt;var Qt=function(){this.__data__=new Kt,this.size=0};var Xt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var Yt=function(t){return this.__data__.get(t)};var Zt,te=function(t){return this.__data__.has(t)},ee=s["__core-js_shared__"],re=(Zt=/[^.]+$/.exec(ee&&ee.keys&&ee.keys.IE_PROTO||""))?"Symbol(src)_1."+Zt:"";var ne=function(t){return!!re&&re in t},oe=Function.prototype.toString;var ae=function(t){if(null!=t){try{return oe.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ue=bt,ie=ne,ce=lt,fe=ae,se=/^\[object .+?Constructor\]$/,le=Function.prototype,ve=Object.prototype,pe=le.toString,be=ve.hasOwnProperty,ye=RegExp("^"+pe.call(be).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var he=function(t){return!(!ce(t)||ie(t))&&(ue(t)?ye:se).test(fe(t))},de=function(t,e){return null==t?void 0:t[e]};var ge=function(t,e){var r=de(t,e);return he(r)?r:void 0},je=ge(s,"Map"),_e=ge(Object,"create"),we=_e;var Oe=function(){this.__data__=we?we(null):{},this.size=0};var me=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Te=_e,Ae=Object.prototype.hasOwnProperty;var xe=function(t){var e=this.__data__;if(Te){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Ae.call(e,t)?e[t]:void 0},Pe=_e,Se=Object.prototype.hasOwnProperty;var Ie=_e;var ze=Oe,Ee=me,Ue=xe,Fe=function(t){var e=this.__data__;return Pe?void 0!==e[t]:Se.call(e,t)},Ne=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ie&&void 0===e?"__lodash_hash_undefined__":e,this};function Me(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Me.prototype.clear=ze,Me.prototype.delete=Ee,Me.prototype.get=Ue,Me.prototype.has=Fe,Me.prototype.set=Ne;var ke=Me,Be=Jt,Ce=je;var Le=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var $e=function(t,e){var r=t.__data__;return Le(e)?r["string"==typeof e?"string":"hash"]:r.map},De=$e;var Re=$e;var Ve=$e;var We=$e;var qe=function(){this.size=0,this.__data__={hash:new ke,map:new(Ce||Be),string:new ke}},Ge=function(t){var e=De(this,t).delete(t);return this.size-=e?1:0,e},He=function(t){return Re(this,t).get(t)},Je=function(t){return Ve(this,t).has(t)},Ke=function(t,e){var r=We(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Qe(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qe.prototype.clear=qe,Qe.prototype.delete=Ge,Qe.prototype.get=He,Qe.prototype.has=Je,Qe.prototype.set=Ke;var Xe=Jt,Ye=je,Ze=Qe;var tr=Jt,er=Qt,rr=Xt,nr=Yt,or=te,ar=function(t,e){var r=this.__data__;if(r instanceof Xe){var n=r.__data__;if(!Ye||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ze(n)}return r.set(t,e),this.size=r.size,this};function ur(t){var e=this.__data__=new tr(t);this.size=e.size}ur.prototype.clear=er,ur.prototype.delete=rr,ur.prototype.get=nr,ur.prototype.has=or,ur.prototype.set=ar;var ir=ur,cr=ge,fr=function(){try{var t=cr(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var sr=function(t,e,r){"__proto__"==e&&fr?fr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},lr=sr,vr=Nt,pr=Object.prototype.hasOwnProperty;var br=function(t,e,r){var n=t[e];pr.call(t,e)&&vr(n,r)&&(void 0!==r||e in t)||lr(t,e,r)},yr=br,hr=sr;var dr=function(t,e,r,n){var o=!r;r||(r={});for(var a=-1,u=e.length;++a<u;){var i=e[a],c=n?n(r[i],t[i],i,r,t):void 0;void 0===c&&(c=t[i]),o?hr(r,i,c):yr(r,i,c)}return r},gr=dr,jr=wt;var _r=function(t,e){return t&&gr(e,jr(e),t)};var wr=lt,Or=at,mr=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},Tr=Object.prototype.hasOwnProperty;var Ar=nt,xr=function(t){if(!wr(t))return mr(t);var e=Or(t),r=[];for(var n in t)("constructor"!=n||!e&&Tr.call(t,n))&&r.push(n);return r},Pr=dt;var Sr=function(t){return Pr(t)?Ar(t,!0):xr(t)},Ir=dr,zr=Sr;var Er=function(t,e){return t&&Ir(e,zr(e),t)},Ur={};!function(t,e){var r=s,n=e&&!e.nodeType&&e,o=n&&t&&!t.nodeType&&t,a=o&&o.exports===n?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}({get exports(){return Ur},set exports(t){Ur=t}},Ur);var Fr=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var Nr=function(){return[]},Mr=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,a=[];++r<n;){var u=t[r];e(u,r,t)&&(a[o++]=u)}return a},kr=Nr,Br=Object.prototype.propertyIsEnumerable,Cr=Object.getOwnPropertySymbols,Lr=Cr?function(t){return null==t?[]:(t=Object(t),Mr(Cr(t),(function(e){return Br.call(t,e)})))}:kr,$r=dr,Dr=Lr;var Rr=function(t,e){return $r(t,Dr(t),e)};var Vr=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Wr=ut(Object.getPrototypeOf,Object),qr=Vr,Gr=Wr,Hr=Lr,Jr=Nr,Kr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)qr(e,Hr(t)),t=Gr(t);return e}:Jr,Qr=dr,Xr=Kr;var Yr=function(t,e){return Qr(t,Xr(t),e)},Zr=Vr,tn=F;var en=function(t,e,r){var n=e(t);return tn(t)?n:Zr(n,r(t))},rn=en,nn=Lr,on=wt;var an=function(t){return rn(t,on,nn)},un=en,cn=Kr,fn=Sr;var sn=function(t){return un(t,fn,cn)},ln=ge(s,"DataView"),vn=je,pn=ge(s,"Promise"),bn=ge(s,"Set"),yn=ge(s,"WeakMap"),hn=O,dn=ae,gn="[object Map]",jn="[object Promise]",_n="[object Set]",wn="[object WeakMap]",On="[object DataView]",mn=dn(ln),Tn=dn(vn),An=dn(pn),xn=dn(bn),Pn=dn(yn),Sn=hn;(ln&&Sn(new ln(new ArrayBuffer(1)))!=On||vn&&Sn(new vn)!=gn||pn&&Sn(pn.resolve())!=jn||bn&&Sn(new bn)!=_n||yn&&Sn(new yn)!=wn)&&(Sn=function(t){var e=hn(t),r="[object Object]"==e?t.constructor:void 0,n=r?dn(r):"";if(n)switch(n){case mn:return On;case Tn:return gn;case An:return jn;case xn:return _n;case Pn:return wn}return e});var In=Sn,zn=Object.prototype.hasOwnProperty;var En=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&zn.call(t,"index")&&(r.index=t.index,r.input=t.input),r},Un=s.Uint8Array;var Fn=function(t){var e=new t.constructor(t.byteLength);return new Un(e).set(new Un(t)),e},Nn=Fn;var Mn=function(t,e){var r=e?Nn(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},kn=/\w*$/;var Bn=function(t){var e=new t.constructor(t.source,kn.exec(t));return e.lastIndex=t.lastIndex,e},Cn=l?l.prototype:void 0,Ln=Cn?Cn.valueOf:void 0;var $n=Fn;var Dn=Fn,Rn=Mn,Vn=Bn,Wn=function(t){return Ln?Object(Ln.call(t)):{}},qn=function(t,e){var r=e?$n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Gn=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Dn(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Rn(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return qn(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Vn(t);case"[object Symbol]":return Wn(t)}},Hn=lt,Jn=Object.create,Kn=function(){function t(){}return function(e){if(!Hn(e))return{};if(Jn)return Jn(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Qn=Wr,Xn=at;var Yn=function(t){return"function"!=typeof t.constructor||Xn(t)?{}:Kn(Qn(t))},Zn=In,to=m;var eo=function(t){return to(t)&&"[object Map]"==Zn(t)},ro=W,no=q&&q.isMap,oo=no?ro(no):eo,ao=In,uo=m;var io=function(t){return uo(t)&&"[object Set]"==ao(t)},co=W,fo=q&&q.isSet,so=fo?co(fo):io,lo=ir,vo=o,po=br,bo=_r,yo=Er,ho=Ur,go=Fr,jo=Rr,_o=Yr,wo=an,Oo=sn,mo=In,To=En,Ao=Gn,xo=Yn,Po=F,So=N,Io=oo,zo=lt,Eo=so,Uo=wt,Fo=Sr,No="[object Arguments]",Mo="[object Function]",ko="[object Object]",Bo={};Bo[No]=Bo["[object Array]"]=Bo["[object ArrayBuffer]"]=Bo["[object DataView]"]=Bo["[object Boolean]"]=Bo["[object Date]"]=Bo["[object Float32Array]"]=Bo["[object Float64Array]"]=Bo["[object Int8Array]"]=Bo["[object Int16Array]"]=Bo["[object Int32Array]"]=Bo["[object Map]"]=Bo["[object Number]"]=Bo[ko]=Bo["[object RegExp]"]=Bo["[object Set]"]=Bo["[object String]"]=Bo["[object Symbol]"]=Bo["[object Uint8Array]"]=Bo["[object Uint8ClampedArray]"]=Bo["[object Uint16Array]"]=Bo["[object Uint32Array]"]=!0,Bo["[object Error]"]=Bo[Mo]=Bo["[object WeakMap]"]=!1;var Co=function t(e,r,n,o,a,u){var i,c=1&r,f=2&r,s=4&r;if(n&&(i=a?n(e,o,a,u):n(e)),void 0!==i)return i;if(!zo(e))return e;var l=Po(e);if(l){if(i=To(e),!c)return go(e,i)}else{var v=mo(e),p=v==Mo||"[object GeneratorFunction]"==v;if(So(e))return ho(e,c);if(v==ko||v==No||p&&!a){if(i=f||p?{}:xo(e),!c)return f?_o(e,yo(i,e)):jo(e,bo(i,e))}else{if(!Bo[v])return a?e:{};i=Ao(e,v,c)}}u||(u=new lo);var b=u.get(e);if(b)return b;u.set(e,i),Eo(e)?e.forEach((function(o){i.add(t(o,r,n,o,e,u))})):Io(e)&&e.forEach((function(o,a){i.set(a,t(o,r,n,a,e,u))}));var y=l?void 0:(s?f?Oo:wo:f?Fo:Uo)(e);return vo(y||e,(function(o,a){y&&(o=e[a=o]),po(i,a,t(o,r,n,a,e,u))})),i},Lo=Co;var $o=function(t){return Lo(t,5)};function Do(){let t,e,r=new Promise((function(){t=arguments[0],e=arguments[1]}));return r.resolve=t,r.reject=e,r}var Ro=/\s/;var Vo=function(t){for(var e=t.length;e--&&Ro.test(t.charAt(e)););return e},Wo=/^\s+/;var qo=function(t){return t?t.slice(0,Vo(t)+1).replace(Wo,""):t},Go=O,Ho=m;var Jo=function(t){return"symbol"==typeof t||Ho(t)&&"[object Symbol]"==Go(t)},Ko=qo,Qo=lt,Xo=Jo,Yo=/^[-+]0x[0-9a-f]+$/i,Zo=/^0b[01]+$/i,ta=/^0o[0-7]+$/i,ea=parseInt;var ra=function(t){if("number"==typeof t)return t;if(Xo(t))return NaN;if(Qo(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Qo(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ko(t);var r=Zo.test(t);return r||ta.test(t)?ea(t.slice(2),r?2:8):Yo.test(t)?NaN:+t},na=ra,oa=1/0;var aa=function(t){return t?(t=na(t))===oa||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0},ua=aa;var ia=function(t){var e=ua(t),r=e%1;return e==e?r?e-r:e:0};var ca=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o},fa=F,sa=Jo,la=l?l.prototype:void 0,va=la?la.toString:void 0;var pa=function t(e){if("string"==typeof e)return e;if(fa(e))return ca(e,t)+"";if(sa(e))return va?va.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},ba=pa;var ya=function(t){return null==t?"":ba(t)},ha=ia,da=ra,ga=ya,ja=s.isFinite,_a=Math.min;var wa=function(t){var e=Math[t];return function(t,r){if(t=da(t),(r=null==r?0:_a(ha(r),292))&&ja(t)){var n=(ga(t)+"e").split("e"),o=e(n[0]+"e"+(+n[1]+r));return+((n=(ga(o)+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}("round");function Oa(t){return!(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)||""===t)}function ma(t){let e=!1;return Oa(t)?e=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(e=!0),e}function Ta(t){if(!ma(t))return 0;t=function(t){return ma(t)?aa(t):0}(t);let e=wa(t);return"0"===String(e)?0:e}var Aa=ya;var xa=function(t){return Aa(t).toLowerCase()};var Pa=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(o);++n<o;)a[n]=t[n+e];return a};var Sa=function(t,e,r){var n=t.length;return r=void 0===r?n:r,!e&&r>=n?t:Pa(t,e,r)};var Ia=function(t,e,r,n){for(var o=t.length,a=r+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1},za=function(t){return t!=t},Ea=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1};var Ua=function(t,e,r){return e==e?Ea(t,e,r):Ia(t,za,r)},Fa=Ua;var Na=function(t,e){for(var r=t.length;r--&&Fa(e,t[r],0)>-1;);return r},Ma=Ua;var ka=function(t,e){for(var r=-1,n=t.length;++r<n&&Ma(e,t[r],0)>-1;);return r};var Ba=function(t){return t.split("")},Ca=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var La=function(t){return Ca.test(t)},$a="\\ud800-\\udfff",Da="["+$a+"]",Ra="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Va="\\ud83c[\\udffb-\\udfff]",Wa="[^"+$a+"]",qa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ga="[\\ud800-\\udbff][\\udc00-\\udfff]",Ha="(?:"+Ra+"|"+Va+")"+"?",Ja="[\\ufe0e\\ufe0f]?",Ka=Ja+Ha+("(?:\\u200d(?:"+[Wa,qa,Ga].join("|")+")"+Ja+Ha+")*"),Qa="(?:"+[Wa+Ra+"?",Ra,qa,Ga,Da].join("|")+")",Xa=RegExp(Va+"(?="+Va+")|"+Qa+Ka,"g");var Ya=Ba,Za=La,tu=function(t){return t.match(Xa)||[]};var eu=pa,ru=qo,nu=Sa,ou=Na,au=ka,uu=function(t){return Za(t)?tu(t):Ya(t)},iu=ya;var cu=function(t,e,r){if((t=iu(t))&&(r||void 0===e))return ru(t);if(!t||!(e=eu(e)))return t;var n=uu(t),o=uu(e),a=au(n,o),u=ou(n,o)+1;return nu(n,a,u).join("")},fu=O,su=m;var lu=function(t){return!0===t||!1===t||su(t)&&"[object Boolean]"==fu(t)};function vu(t){if(function(t){return lu(t)}(t))return t;if(0===t)return!1;if(1===t)return!0;let e=!1;return Oa(t)&&"true"===(t=xa(cu(t)))&&(e=!0),e}var pu={};!function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function a(t,e,n,a,u){if("function"!=typeof n)throw new TypeError("The listener must be a function");var i=new o(n,a||t,u),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],i]:t._events[c].push(i):(t._events[c]=i,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function i(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),i.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},i.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,a=n.length,u=new Array(a);o<a;o++)u[o]=n[o].fn;return u},i.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},i.prototype.emit=function(t,e,n,o,a,u){var i=r?r+t:t;if(!this._events[i])return!1;var c,f,s=this._events[i],l=arguments.length;if(s.fn){switch(s.once&&this.removeListener(t,s.fn,void 0,!0),l){case 1:return s.fn.call(s.context),!0;case 2:return s.fn.call(s.context,e),!0;case 3:return s.fn.call(s.context,e,n),!0;case 4:return s.fn.call(s.context,e,n,o),!0;case 5:return s.fn.call(s.context,e,n,o,a),!0;case 6:return s.fn.call(s.context,e,n,o,a,u),!0}for(f=1,c=new Array(l-1);f<l;f++)c[f-1]=arguments[f];s.fn.apply(s.context,c)}else{var v,p=s.length;for(f=0;f<p;f++)switch(s[f].once&&this.removeListener(t,s[f].fn,void 0,!0),l){case 1:s[f].fn.call(s[f].context);break;case 2:s[f].fn.call(s[f].context,e);break;case 3:s[f].fn.call(s[f].context,e,n);break;case 4:s[f].fn.call(s[f].context,e,n,o);break;default:if(!c)for(v=1,c=new Array(l-1);v<l;v++)c[v-1]=arguments[v];s[f].fn.apply(s[f].context,c)}}return!0},i.prototype.on=function(t,e,r){return a(this,t,e,r,!1)},i.prototype.once=function(t,e,r){return a(this,t,e,r,!0)},i.prototype.removeListener=function(t,e,n,o){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return u(this,a),this;var i=this._events[a];if(i.fn)i.fn!==e||o&&!i.once||n&&i.context!==n||u(this,a);else{for(var c=0,f=[],s=i.length;c<s;c++)(i[c].fn!==e||o&&!i[c].once||n&&i[c].context!==n)&&f.push(i[c]);f.length?this._events[a]=1===f.length?f[0]:f:u(this,a)}return this},i.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&u(this,e)):(this._events=new n,this._eventsCount=0),this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prefixed=r,i.EventEmitter=i,t.exports=i}({get exports(){return pu},set exports(t){pu=t}});var bu=pu;function yu(){return new bu}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},r=!1;t.usePollingTableTags?t.usePollingTableTags=vu(t.usePollingTableTags):t.usePollingTableTags=!1,t.pollingIntervalTime?t.pollingIntervalTime=Ta(t.pollingIntervalTime):t.pollingIntervalTime=2e3;let n=new yu;function o(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];setTimeout((()=>{n.emit(t,...r)}),1)}async function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=[];o("beforeUpdateTableTags",{oldTableTags:$o(e),newTableTags:$o(t)});let n=!1;Ut(t,((t,r)=>{e[r]!==t&&(n=!0)})),o("refreshState",{needToRefresh:n,oldTableTags:$o(e),newTableTags:$o(t)}),Ut(t,((t,n)=>{if(e[n]!==t){let a=Do(),u={tableName:n,timeTag:t,pm:a};r.push(a),o("refreshTable",u),a.then((r=>{e[n]=t,o("getData",{tableName:n,timeTag:t,data:r})})).catch((t=>{o("error",{msg:"can not get table data: "+n,err:t})}))}})),await Promise.all(r),o("afterUpdateTableTags",{oldTableTags:$o(e),newTableTags:$o(t)})}async function u(){if(r)return;r=!0,o("beforePollingTableTags");let e=Do();o("refreshTags",{pm:e});let n=await e.catch((t=>{o("error",{msg:"can not get tags data",err:t})}));n&&await a(n),await function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;ma(t)||(t=10);let e=Do();return setTimeout((function(){e.resolve()}),t),e}(t.pollingIntervalTime),o("afterPollingTableTags"),r=!1}return t.usePollingTableTags&&"undefined"!=typeof window&&window.addEventListener("mouseover",(t=>{u()}),!1),n.setTableTags=function(){e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n.updateTableTags=a,n.pollingTableTags=u,n}}));
//# sourceMappingURL=w-sync-webdata-client.umd.js.map
